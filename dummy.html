<!doctype html>
<html lang="en">

<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <meta name="description" content="">
   <meta name="author" content="">

   <title>MathLab</title>

   <!-- Bootstrap core CSS -->
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
   <link href="https://fonts.googleapis.com/css?family=Roboto+Mono&display=swap" rel="stylesheet">

   <style>
      body {
         width: 100%;
         padding: 0;
         margin: 0;
         overflow: hidden;
      }

      /* Scrollbar Styling */
      ::-webkit-scrollbar {
         width: 5px;
      }

      ::-webkit-scrollbar-track {
         background-color: #ebebeb;
         -webkit-border-radius: 10px;
         border-radius: 10px;
      }

      ::-webkit-scrollbar-thumb {
         -webkit-border-radius: 10px;
         border-radius: 10px;
         background: #cccccc;
      }

      .mainBody {
         width: 100%;
         height: 100%;
         display: flex;
         flex-direction: column;
      }

      .panelBody {
         width: 100%;
         height: 100%;
         flex-grow: 1;
         background-color: #F3F7FC;
         overflow: hidden;
         display: flex;
         align-items: center;
         justify-content: center;
         padding-bottom: 20px;
      }

      .m-card {
         max-width: 100%;
         max-height: 100%;
         display: flex;
         flex-direction: column;
         overflow-y: auto;
         background-color: #fff;
         border-radius: 5px;
         box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
         font-size: 2vw;
         font-weight: bold;
      }

      .m-question {
         text-align: left;
         font-family: 'Baloo Chettan 2', cursive;
         background-color: #3AAEF0;
         color: #fff;
         padding: 10px;
         line-height:2;
      }

      .m-answer {
         max-height: 100%;
         overflow-y: auto;
         display: flex;
         flex-direction: row;
      }
      .m-table {
         width:100%;
         border-spacing: 0;
         border-collapse: collapse;
         overflow-y:auto;
      }

      .m-table tr:nth-child(odd){
         background-color: #eee;
      }

      .m-flex-item {
         line-height:2;
         padding:15px;
         text-align:left;
         transition: all .5s;
         border-bottom: 1px solid gray;
      }
      .m-lhs{
         border-right:2px solid gray;
      }

      .m-flex-item-h {
         position: sticky;
         top: 0;
         z-index: 2;
         box-shadow: 0 5px 5px -3px #777;
         background-color: #F0707A;
         color: #fff;
         border-right: 2px solid gray;
      }

      .m-flex-item-collapse {
         cursor: pointer;
         padding: 0 3px;
      }

      .m-flex-item-expand {
         cursor: pointer;
      }

      .m-highlight {
         background-color: #FEDD2A;
         padding: 5px 5px;
         border-radius: 5px;
      }

      @media only screen and (max-width: 600px) {
         .panelBody {
            padding-bottom: 5px;
         }
         .m-card {
            font-size: 4vw;
            border-radius: 0;
         }
         .m-flex-item{
            padding:10px;
         }
      }
   </style>
</head>

<body class="text-center">
   <div class='mainBody'>
      <div class='panelHeading'>
         <nav class="navbar navbar-expand-lg navbar-dark bg-dark" style='text-align: left;'>
            <a class="navbar-brand" href="#">Cognitive Math Lab</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
               aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
               <ul class="navbar-nav ml-auto">
                  <li class="nav-item dropdown">
                     <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Trigonometric Identities</a>
                     <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">Trigonometric Identities</a>
                     </div>
                  </li>
               </ul>
               <ul class="navbar-nav mr-5">
                  <li class="nav-item dropdown">
                     <a class="nav-link dropdown-toggle dropdown-level" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Level 1</a>
                     <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#" data-level='1'>Level 1</a>
                        <a class="dropdown-item" href="#" data-level='2'>Level 2</a>
                        <a class="dropdown-item" href="#" data-level='3'>Level 3</a>
                        <a class="dropdown-item" href="#" data-level='4'>Level 4</a>
                        <a class="dropdown-item" href="#" data-level='5'>Level 5</a>
                     </div>
                  </li>
               </ul>
            </div>
         </nav>
      </div>
      <div class='panelBody'>
         <div class='m-card'>
            <div class='m-question'>This is the question This is the question This is the question</div>
            <div class='m-answer'>
               <table class='m-table'>
                  <tr>
                     <th class='m-flex-item-h m-lhs-h m-flex-lhs'>
                        <div class='float-left m-flex-item-collapse m-lhs-collapse' data-toggle="tooltip"
                           title='Hide L.H.S'>&#11164;</div>L.H.S<div
                           class='float-right m-flex-item-expand m-lhs-expand' style='display: none;'
                           data-toggle="tooltip" title='Show R.H.S'><span class='badge badge-warning'>R.H.S</span></div>
                     </th>
                     <th class='m-flex-item-h m-rhs-h m-flex-rhs'>
                        <div class='float-left m-flex-item-expand m-rhs-expand' style='display: none;'
                           data-toggle="tooltip" title='Show L.H.S'><span class='badge badge-warning'>L.H.S</span></div>
                        R.H.S
                        <div class='float-right m-flex-item-collapse m-rhs-collapse' data-toggle="tooltip"
                           title='Hide R.H.S'>&#11166;</div>
                     </th>
                  </tr>
               </table>
            </div>
         </div>
      </div>
      <div class='panelFooter'>
         <buttons class='btn btn-primary disabled float-left m-1'>Prev</buttons>
         <buttons class='btn btn-primary m-1 m-reload'>Reload</buttons>
         <buttons class='btn btn-primary disabled float-right m-1'>Next</buttons>
      </div>
   </div>


   <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
   <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjs/6.6.1/math.min.js'></script>
   <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script>
   <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
      onload="renderMathInElement(document.body);"></script>
   </script>

   <script>
      "use strict";
      console.log('App running in strict mode.');

      $(document).ready(function () {
         var windowHeight = $(window).height();
         var windowWidth = $(window).width();
         $('body').css({ "height": windowHeight + "px" });
         var level = 1;
         $(".dropdown-item").click(function(){
            level = $(this).attr('data-level');
            train1(level);
            $(".dropdown-level").html("Level "+level);
         });
         train1(level);
         resizeCard();
      });

      function resizeCard(){
         var windowWidth = $(window).width();
         if (windowWidth < 700) {
            $(".m-flex-rhs").hide();
            $(".m-lhs-expand").show(0);
            $(".m-lhs-collapse").hide(0);
            $(".m-rhs-expand").click(function () {
               $(".m-flex-lhs").show();
               $(".m-rhs-expand").hide(0);
               $(".m-rhs-collapse").show(0);
               $(".m-flex-rhs").hide();
               $(".m-lhs-expand").show(0);
               $(".m-lhs-collapse").hide(0);
            });
            $(".m-lhs-expand").click(function () {
               $(".m-flex-rhs").show();
               $(".m-lhs-expand").hide(0);
               $(".m-lhs-collapse").show(0);
               $(".m-flex-lhs").hide();
               $(".m-rhs-expand").show(0);
               $(".m-rhs-collapse").hide(0);
            });
         } else {
            $(".m-lhs-collapse").click(function () {
               $(".m-flex-lhs").hide();
               $(".m-rhs-expand").show(0);
               $(".m-rhs-collapse").hide(0);
            });
            $(".m-rhs-expand").click(function () {
               $(".m-flex-lhs").show();
               $(".m-rhs-expand").hide(0);
               $(".m-rhs-collapse").show(0);
            });
            $(".m-rhs-collapse").click(function () {
               $(".m-flex-rhs").hide();
               $(".m-lhs-expand").show(0);
               $(".m-lhs-collapse").hide(0);
            });
            $(".m-lhs-expand").click(function () {
               $(".m-flex-rhs").show();
               $(".m-lhs-expand").hide(0);
               $(".m-lhs-collapse").show(0);
            });
         }
      }

      function train1(level) {
         var num7 = [];
         if (level == 1) {
            var num1 = 1;
            var num2 = 1;
            num7[0] = '\\theta';
         } else if (level == 2) {
            var num1 = getRandomNumber(-10, 10);
            var num2 = getRandomNumber(-10, 10);
            num7[0] = '\\theta';
         } else if (level == 3) {
            var num1 = getRandomNumber(-10, 10);
            var num2 = getRandomNumber(-10, 10);
            var num7 = parseNumber(getRandomNumber(1, 10));
            num7[0] = num7[0] + '\\theta';
         } else if (level == 4) {
            var num1 = getRandomNumber(-10, 10);
            var num2 = getRandomNumber(-10, 10);
            var num7 = parseNumber(getRandomNumber(1, 90));
            num7[0] = num7[0] + "\\degree";
         } else if (level == 5) {
            var num1 = getRandomNumber(-10, 10);
            var num2 = getRandomNumber(-10, 10);
            var num7 = parseNumber(getRandomNumber(1, 90));
            var constantVariables = ["a", "b", "c", "m", "n", "p", "q", "α", "β", "γ", "δ", "Δ", "Φ", "Ω", "Ψ"];
            constantVariables = getRandom(constantVariables, 1);
            num7[0] = "\\lparen" + num7[0] + constantVariables + "\\rparen";
         }
         var num3 = num1 * num1;
         var num4 = num2 * num2;
         var num5 = 2 * num1 * num2;
         var num6 = num5 - num3 - num4;
         num1 = parseNumber(num1);
         num2 = parseNumber(num2);
         num3 = parseNumber(num3);
         num4 = parseNumber(num4);
         num5 = parseNumber(num5);
         num6 = parseNumber(num6);
         // Method - 1
         var eq1 = katex.renderToString(`Q:Prove \\space that \\space\\space ${num3[0]}\\sec^{${2}}${num7[0]} ${num4[1]}\\cosec^{${2}}${num7[0]} ${num6[2]} = \\lparen ${num1[0]}\\tan${num7[0]} ${num2[1]}\\cot${num7[0]} \\rparen^{${2}}`);
         $(".m-question").html(eq1);
         var eq2 = katex.renderToString(`\\rightarrow ${num3[0]}\\sec^{${2}}${num7[0]} ${num4[1]}\\cosec^{${2}}${num7[0]} ${num6[2]}`);
         var eq3_1 = katex.renderToString(`\\rightarrow ${num3[0]}\\lparen`);
         var eq3_2 = katex.renderToString(`\\tan^{${2}}${num7[0]} + 1`);
         var eq3_3 = katex.renderToString(`\\rparen${num4[1]}\\lparen`);
         var eq3_4 = katex.renderToString(`\\cot^{${2}}${num7[0]} + 1`);
         var eq3_5 = katex.renderToString(`\\rparen${num6[2]}`);
         var eq4 = katex.renderToString(`\\rightarrow ${num3[0]}\\tan^{${2}}${num7[0]} ${num3[2]} ${num4[1]}\\cot^{${2}}${num7[0]} ${num4[2]} ${num6[2]}`);
         var eq5 = katex.renderToString(`\\rightarrow ${num3[0]}\\tan^{${2}}${num7[0]} ${num4[1]}\\cot^{${2}}${num7[0]} ${num5[2]}`);
         var eq6 = katex.renderToString(`\\rightarrow \\lparen${num1[0]}\\tan${num7[0]}\\rparen^{2} + \\lparen${num2[0]}\\cot${num7[0]}\\rparen^{2} + \\lparen2 \\times ${num1[0]}\\tan${num7[0]} \\times ${num2[0]}cot${num7[0]}\\rparen`);
         var eq6_1 = katex.renderToString(`\\rightarrow \\lparen`);
         var eq6_2 = katex.renderToString(`${num1[0]}\\tan${num7[0]}`);
         var eq6_3 = katex.renderToString(`\\rparen^{2} + \\lparen`);
         var eq6_4 = katex.renderToString(`${num2[0]}\\cot${num7[0]}`);
         var eq6_5 = katex.renderToString(`\\rparen^{2} + \\lparen`);
         var eq6_6 = katex.renderToString(`2 \\times ${num1[0]}\\tan${num7[0]} \\times ${num2[0]}cot${num7[0]}`);
         var eq6_7 = katex.renderToString(`\\rparen`);
         var eq7 = katex.renderToString(`\\rightarrow \\lparen${num1[0]}\\tan${num7[0]} ${num2[1]}\\cot${num7[0]}\\rparen^{2}`);
         var eq8 = katex.renderToString(`= \\lparen${num1[0]}\\tan${num7[0]} ${num2[1]}\\cot${num7[0]}\\rparen^{2}`);
         $(".m-table").find('tr:not(first-child)').slice(1).remove();
         $(".m-table").append(`
                  <tr>
                     <td class='m-lhs m-flex-lhs m-flex-item'>${eq2}</td>
                     <td class='m-rhs m-flex-rhs m-flex-item'>${eq8}</td>
                  </tr>
                  <tr>
                     <td class='m-lhs m-flex-lhs m-flex-item'>${eq3_1}<span class='m-highlight'>${eq3_2}</span>${eq3_3}<span class='m-highlight'>${eq3_4}</span>${eq3_5}</td>
                     <td class='m-rhs m-flex-rhs m-flex-item'>${eq8}</td>
                  </tr>
                  <tr>
                     <td class='m-lhs m-flex-lhs m-flex-item'>${eq4}</td>
                     <td class='m-rhs m-flex-rhs m-flex-item'>${eq8}</td>
                  </tr>
                  <tr>
                     <td class='m-lhs m-flex-lhs m-flex-item'>${eq5}</td>
                     <td class='m-rhs m-flex-rhs m-flex-item'>${eq8}</td>
                  </tr>
                  <tr>
                     <td class='m-lhs m-flex-lhs m-flex-item'>${eq6_1}<span class='m-highlight'>${eq6_2}</span>${eq6_3}<span class='m-highlight'>${eq6_4}</span>${eq6_5}<span class='m-highlight'>${eq6_6}</span>${eq6_7}</td>
                     <td class='m-rhs m-flex-rhs m-flex-item'>${eq8}</td>
                  </tr>
                  <tr>
                     <td class='m-lhs m-flex-lhs m-flex-item'>${eq7}</td>
                     <td class='m-rhs m-flex-rhs m-flex-item'>${eq8}</td>
                  </tr>
                  `);
         $(".m-reload").unbind('click').click(function () {
            train1(level);
            resizeCard();
         })
      }

      function train2() {
         var num1 = getRandomNumber(-10, 10);
         var num2 = getRandomNumber(-10, -1);
         var num3 = num1 * num1;
         var num4 = num2 * num2;
         var num8 = eval(-num3);
         var num5 = 2 * num1 * num2;
         var num6 = num5 - (num8 + num4);
         var num7 = eval(-num4);
         num1 = parseNumber(num1);
         num2 = parseNumber(num2);
         num3 = parseNumber(num3);
         num4 = parseNumber(num4);
         num5 = parseNumber(num5);
         num6 = parseNumber(num6);
         num7 = parseNumber(num7);
         num8 = parseNumber(num8)
         // Method - 1
         var eq1 = katex.renderToString(`Q: ${num3[0]}\\tan^{${2}}\\theta ${num4[1]}\\sin^{${2}}\\theta ${num6[2]} = \\lparen ${num1[0]}\\cos\\theta ${num2[1]}\\sec\\theta \\rparen^{${2}}`);
         var eq2 = katex.renderToString(`L.H.S = ${num3[0]}\\tan^{${2}}\\theta ${num4[1]}\\sin^{${2}}\\theta ${num6[2]}`);
         var eq3_1 = katex.renderToString(`L.H.S = ${num3[0]}\\lparen   `);
         var eq3_2 = katex.renderToString(`\\sec^{${2}}\\theta - 1`);
         var eq3_3 = katex.renderToString(`\\rparen${num4[1]}\\lparen`);
         var eq3_4 = katex.renderToString(`1 - \\cos^{${2}}\\theta`);
         var eq3_5 = katex.renderToString(`\\rparen${num6[2]}`);
         var eq4 = katex.renderToString(`L.H.S = ${num3[0]}\\sec^{${2}}\\theta ${num8[2]} ${num4[2]} ${num7[1]}\\cos^{${2}}\\theta ${num6[2]}`);
         var eq5 = katex.renderToString(`L.H.S = ${num3[0]}\\cos^{${2}}\\theta ${num7[1]}\\sec^{${2}}\\theta ${num5[2]}`);
         var eq6 = katex.renderToString(`L.H.S = \\lparen${num1[0]}\\cos\\theta\\rparen^{2} + \\lparen${num2[0]}\\sec\\theta\\rparen^{2} + \\lparen2 \\times ${num1[0]}\\cos\\theta \\times ${num2[0]}sec\\theta\\rparen`);
         var eq7 = katex.renderToString(`L.H.S = \\lparen${num1[0]}\\cos\\theta ${num2[1]}\\sec \\theta\\rparen^{2}`);
         var eq8 = katex.renderToString(`L.H.S = R.H.S`);
         $(".m-card").html(`<div class='m-question'>${eq1}</div><hr>${eq2}<br>${eq3_1}<span class='m-highlight'>${eq3_2}</span>${eq3_3}<span class='m-highlight'>${eq3_4}</span>${eq3_5}<br>${eq4}<br>${eq5}<br>${eq6}<br>${eq7}<br>${eq8}`);
         $(".m-reload").unbind('click').click(function () {
            train2();
         })
      }

      function train3() {
         var num1 = getRandomNumber(-10, 10);
         var num2 = getRandomNumber(-10, 10);
         var num3 = num1 * num1;
         var num4 = num2 * num2;
         var num7 = eval(-num3);
         var num8 = eval(-num4)
         var num5 = 2 * num1 * num2;
         var num6 = num5 - (num7 + num8);
         num1 = parseNumber(num1);
         num2 = parseNumber(num2);
         num3 = parseNumber(num3);
         num4 = parseNumber(num4);
         num5 = parseNumber(num5);
         num6 = parseNumber(num6);
         num7 = parseNumber(num7);
         num8 = parseNumber(num8);
         // Method - 1
         var eq1 = katex.renderToString(`Q: ${num3[0]}\\tan^{${2}}\\theta ${num8[1]}\\sin^{${2}}\\theta ${num6[2]} = \\lparen ${num1[0]}\\cos\\theta ${num2[1]}\\sec\\theta \\rparen^{${2}}`);
         var eq2 = katex.renderToString(`L.H.S = ${num3[0]}\\tan^{${2}}\\theta ${num8[1]}\\sin^{${2}}\\theta ${num6[2]}`);
         var eq3_1 = katex.renderToString(`L.H.S = ${num3[0]}\\lparen   `);
         var eq3_2 = katex.renderToString(`\\sec^{${2}}\\theta - 1`);
         var eq3_3 = katex.renderToString(`\\rparen${num8[1]}\\lparen`);
         var eq3_4 = katex.renderToString(`1 - \\cos^{${2}}\\theta`);
         var eq3_5 = katex.renderToString(`\\rparen${num6[2]}`);
         var eq4 = katex.renderToString(`L.H.S = ${num3[0]}\\sec^{${2}}\\theta ${num7[2]} ${num8[2]} ${num4[1]}\\cos^{${2}}\\theta ${num6[2]}`);
         var eq5 = katex.renderToString(`L.H.S = ${num3[0]}\\cos^{${2}}\\theta ${num4[1]}\\sec^{${2}}\\theta ${num5[2]}`);
         var eq6 = katex.renderToString(`L.H.S = \\lparen${num1[0]}\\cos\\theta\\rparen^{2} + \\lparen${num2[0]}\\sec\\theta\\rparen^{2} + \\lparen2 \\times ${num1[0]}\\cos\\theta \\times ${num2[0]}sec\\theta\\rparen`);
         var eq7 = katex.renderToString(`L.H.S = \\lparen${num1[0]}\\cos\\theta ${num2[1]}\\sec \\theta\\rparen^{2}`);
         var eq8 = katex.renderToString(`L.H.S = R.H.S`);
         $(".m-card").html(`<div class='m-question'>${eq1}</div><hr>${eq2}<br>${eq3_1}<span class='m-highlight'>${eq3_2}</span>${eq3_3}<span class='m-highlight'>${eq3_4}</span>${eq3_5}<br>${eq4}<br>${eq5}<br>${eq6}<br>${eq7}<br>${eq8}`);
         $(".m-reload").unbind('click').click(function () {
            train3();
         })
      }

      function getRandomNumber(min, max) {
         return Math.floor(Math.random() * (max - min) + min);
      }

      // format => [first string, second string, constant with sign, constant, sign]
      function parseNumber(xInt) {
         // format => [first string, second string, constant with sign, constant, sign]
         if (xInt == 0) {
            return ['', '', '', 0, '+'];
         } else if (xInt > 0) {
            if (xInt == 1) {
               return ['', '+ ', '+ 1', 1, '+'];
            } else {
               return [xInt, '+ ' + xInt, '+ ' + xInt, xInt, '+'];
            }
         } else if (xInt < 0) {
            if (xInt == -1) {
               return ['-', '- ', '- 1', -1, '-'];
            } else {
               return [xInt, '- ' + eval(-(xInt)), '- ' + eval(-(xInt)), xInt, '-'];
            }
         }
      }

      function getRandom(arr, n) {
         var result = new Array(n),
            len = arr.length,
            taken = new Array(len);
         if (n > len)
            throw new RangeError("getRandom: more elements taken than available");
         while (n--) {
            var x = Math.floor(Math.random() * len);
            result[n] = arr[x in taken ? taken[x] : x];
            taken[x] = --len in taken ? taken[len] : len;
         }
         return result;
      }

   </script>

</body>

</html>
